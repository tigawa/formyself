+++
title = "PostgreSQL 組込み関数と演算子"
date = "2013-05-13"
tags = ["PostgreSQL"]
banner = "banners/postgres-banner.png"
+++

日付を取得するにもいろいろな関数がある、トランザクション開始の時刻を取得するものなど用途によって使い分ける必要がありそうだ。

# トランザクション開始時の日時を取得する関数

関数名               | 説明
:---------------- | :-----------
now()             | タイムスタンプを取得する
current_timestamp | タイムスタンプを取得する
localtimestamp    | タイムスタンプを取得する
localtime         | 時刻を取得する
current_time      | 時刻を取得する
current_date      | 日付を取得する

# SQL開始時の日付/時刻を取得する関数
この関数は、１つのSQL内で複数回実行しても、同じ日時を取得する。

関数名                   | 説明
:-------------------- | :-----------
statement_timestamp() | タイムスタンプを取得する

# 関数実行時の日時/時刻を取得する関数

関数名               | 説明
:---------------- | :-----------
clock_timestamp() | タイムスタンプを取得する


# 文字列のマッチングを行う演算子

使い方                           | 説明
:---------------------------- | :------------------------------
select 'abc' ~ '^a' => true   | 正規表現に一致する場合は真となる。大文字/小文字を区別する
select 'abc' ~* '^A' => true  | 正規表現に一致する場合は真となる。大文字/小文字を区別しない
select 'abc' !~ '^A' => true  | 正規表現に一致しない場合は真となる。大文字/小文字を区別する
select 'abc' !~* '^z' => true | 正規表現に一致しない場合は真となる。大文字/小文字を区別しない
